\documentclass{beamer}
\mode<presentation>{
  \usetheme{Boadilla}
  \usefonttheme[onlylarge]{structurebold}
  \usefonttheme[stillsansseriflarge]{serif}
  \setbeamerfont*{frametitle}{size=\normalsize,series=\bfseries}
  % \setbeamertemplate{navigation symbols}{}
  \setbeamercovered{transparent}
}
\usepackage[english]{babel}
\usepackage[latin1]{inputenc}
\usepackage{times}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{esint}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{xkeyval}
\usepackage{xargs}
\usepackage{verbatim}
\usetikzlibrary{
  arrows,
  calc,
  decorations.pathmorphing,
  decorations.pathreplacing,
  decorations.markings,
  fadings,
  positioning,
  shapes
}

\mode<handout>{
  \usepackage{pgfpages}
  \pgfpagesuselayout{4 on 1}[a4paper,landscape,border shrink=5mm]
  \setbeamercolor{background canvas}{bg=black!10}
}

\newcommand\pgfmathsinandcos[3]{%
  \pgfmathsetmacro#1{sin(#3)}%
  \pgfmathsetmacro#2{cos(#3)}%
}
\newcommand\LongitudePlane[3][current plane]{%
  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
  \pgfmathsinandcos\sint\cost{#3} % azimuth
  \tikzset{#1/.estyle={cm={\cost,\sint*\sinEl,0,\cosEl,(0,0)}}}
}
\newcommand\LatitudePlane[3][current plane]{%
  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
  \pgfmathsinandcos\sint\cost{#3} % latitude
  \pgfmathsetmacro\yshift{\cosEl*\sint}
  \tikzset{#1/.estyle={cm={\cost,0,0,\cost*\sinEl,(0,\yshift)}}} %
}
\newcommand\DrawLongitudeCircle[2][1]{
  \LongitudePlane{\angEl}{#2}
  \tikzset{current plane/.prefix style={scale=#1}}
  % angle of "visibility"
  \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
  \draw[current plane] (\angVis:1) arc (\angVis:\angVis+180:1);
  \draw[current plane,dashed] (\angVis-180:1) arc (\angVis-180:\angVis:1);
}
\newcommand\DrawLatitudeCircleArrow[2][1]{
  \LatitudePlane{\angEl}{#2}
  \tikzset{current plane/.prefix style={scale=#1}}
  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
  % angle of "visibility"
  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
  \draw[current plane,decoration={markings, mark=at position 0.6 with {\arrow{<}}},postaction={decorate},line width=.6mm] (\angVis:1) arc (\angVis:-\angVis-180:1);
  \draw[current plane,dashed,line width=.6mm] (180-\angVis:1) arc (180-\angVis:\angVis:1);
}
\newcommand\DrawLatitudeCircle[2][1]{
  \LatitudePlane{\angEl}{#2}
  \tikzset{current plane/.prefix style={scale=#1}}
  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
  % angle of "visibility"
  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
  \draw[current plane] (\angVis:1) arc (\angVis:-\angVis-180:1);
  \draw[current plane,dashed] (180-\angVis:1) arc (180-\angVis:\angVis:1);
}
\newcommand\coil[1]{
  {\rh * cos(\t * pi r)}, {\apart * (2 * #1 + \t) + \rv * sin(\t * pi r)}
}
\makeatletter
\define@key{DrawFromCenter}{style}[{->}]{
  \tikzset{DrawFromCenterPlane/.style={#1}}
}
\define@key{DrawFromCenter}{r}[1]{
  \def\@R{#1}
}
\define@key{DrawFromCenter}{center}[(0, 0)]{
  \def\@Center{#1}
}
\define@key{DrawFromCenter}{theta}[0]{
  \def\@Theta{#1}
}
\define@key{DrawFromCenter}{phi}[0]{
  \def\@Phi{#1}
}
\presetkeys{DrawFromCenter}{style, r, center, theta, phi}{}
\newcommand*\DrawFromCenter[1][]{
  \setkeys{DrawFromCenter}{#1}{
    \pgfmathsinandcos\sint\cost{\@Theta}
    \pgfmathsinandcos\sinp\cosp{\@Phi}
    \pgfmathsinandcos\sinA\cosA{\angEl}
    \pgfmathsetmacro\DX{\@R*\cost*\cosp}
    \pgfmathsetmacro\DY{\@R*(\cost*\sinp*\sinA+\sint*\cosA)}
    \draw[DrawFromCenterPlane] \@Center -- ++(\DX, \DY);
  }
}
\newcommand*\DrawFromCenterText[2][]{
  \setkeys{DrawFromCenter}{#1}{
    \pgfmathsinandcos\sint\cost{\@Theta}
    \pgfmathsinandcos\sinp\cosp{\@Phi}
    \pgfmathsinandcos\sinA\cosA{\angEl}
    \pgfmathsetmacro\DX{\@R*\cost*\cosp}
    \pgfmathsetmacro\DY{\@R*(\cost*\sinp*\sinA+\sint*\cosA)}
    \draw[DrawFromCenterPlane] \@Center -- ++(\DX, \DY) node {#2};
  }
}
\makeatother

% not mandatory, but I though it was better to set it blank
\setbeamertemplate{headline}{}
\def\beamer@entrycode{\vspace{-\headheight}}

\tikzstyle{snakearrow} = [decorate, decoration={pre length=0.2cm,
  post length=0.2cm, snake, amplitude=.4mm,
  segment length=2mm},thick, ->]

%% document-wide tikz options and styles

\tikzset{%
  >=latex, % option for nice arrows
  inner sep=0pt,%
  outer sep=2pt,%
  mark coordinate/.style={inner sep=0pt,outer sep=0pt,minimum size=3pt,
    fill=black,circle}%
}
\def\timeleft{14:50}

\title[Mössbauer Spectroscopy\hspace{2em}\tiny{\timeleft}]{Mössbauer Spectroscopy}
\author{Yichao Yu}
\institute{MIT}

\begin{document}

\begin{frame}{}
  \titlepage
\end{frame}

\def\timeleft{14:00}
\begin{frame}{}
  \begin{block}{Mössbauer effect and Mössbauer spectroscopy.}
    \begin{itemize}[<+->]
    \item
      Nuclear $\gamma$ spectrum.
    \item
      Simple setup.
    \item
      Super high resolution. $(10^{12})$
    \end{itemize}
  \end{block}
  \begin{center}
    \includegraphics[width=7cm]{../all_data/02-28-FeC2O4_raw.png}\\
    Mössbauer spectrum of $FeC_2O_4$.
  \end{center}
\end{frame}

\def\timeleft{13:00}
\begin{frame}
  \tableofcontents
\end{frame}

\def\timeleft{13:00}
\section{Mössbauer effect.}
\begin{frame}{Nuclear spectrum and recoil.}
  \begin{columns}
    \column{6cm}
    \begin{block}{}
      \begin{itemize}[<+->]
      \item
        Radio active element radiate $\gamma$-ray at characteristic frequencies.
      \item
        Radiation $\rightarrow$ Absorption.
      \item
        Recoil momentum and doppler shift.
      \end{itemize}
    \end{block}
    \column{6cm}
    \only<2>{
      \begin{tikzpicture}[scale=.8]
        \draw[line width=2] (0, 0) -- (2, 0);
        \draw[line width=2] (0, 3) -- (2, 3);
        \draw[->, line width=2] (1, 3) -- (1, 0);
        \draw[->, decorate, decoration=snake, line width=1] (1.5, 1.5) -- (4.5, 1.5);
        \path (3, 1.5) node[below] {$h\nu$};
        \draw[line width=2] (4, 0) -- (6, 0);
        \draw[line width=2] (4, 3) -- (6, 3);
        \draw[->, line width=2] (5, 0) -- (5, 3);
      \end{tikzpicture}
    }
    \only<3>{
      \begin{tikzpicture}[scale=.8]
        \draw plot[id=x,domain=0:5,samples=1000] function{2 / (1 + 2 * (x - 2.3)**2)};
        \draw plot[id=x,domain=0:5,samples=1000] function{2 / (1 + 2 * (x - 2.7)**2)};
        \draw[->, black] (0, 0) -- (5, 0);
        \draw[->, black, line width=1] (2.3, 2) -- (2.7, 2);
        \draw[dashed] (2.3, 0) -- (2.3, 2);
        \draw[dashed] (2.7, 0) -- (2.7, 2);
      \end{tikzpicture}\\
      \begin{tikzpicture}[scale=.8]
        \draw plot[id=x,domain=0:5,samples=1000] function{2 / (1 + 25 * (x - 2.1)**2)};
        \draw plot[id=x,domain=0:5,samples=1000] function{2 / (1 + 25 * (x - 2.9)**2)};
        \draw[->, black] (0, 0) -- (5, 0);
        \draw[->, black, line width=1] (2.1, 2) -- (2.9, 2);
        \draw[dashed] (2.1, 0) -- (2.1, 2);
        \draw[dashed] (2.9, 0) -- (2.9, 2);
      \end{tikzpicture}
    }
  \end{columns}
\end{frame}

\begin{frame}{Mössbauer effect.}
  \begin{columns}
    \column{6cm}
    \begin{block}{}
      \begin{itemize}[<+->]
      \item
        Discoveried in $1957$ by Mössbauer.
      \item
        Momentum transfer with the whole cristal. $\rightarrow$ Recoilless.
      \item
        Scanning frequency using doppler effect.
      \end{itemize}
    \end{block}
    \column{6cm}
    \only<3>{
      \begin{tikzpicture}[scale=.8]
        \path (0, 0) node[below] {Target};
        \path (3, 0) node[below] {Source};
        \draw[line width=1] (0, 0) -- (0, 2);
        \draw[line width=1] (3, 0) -- (3, 2);
        \draw[<->, black, line width=1] (1, 2.2) -- (5, 2.2);
      \end{tikzpicture}
    }
  \end{columns}
\end{frame}

\def\timeleft{7:00 -> 3:00}
\section{Apparatus and samples.}
\begin{frame}{Experiment Apparatus.}
  \begin{tikzpicture}[scale=.8]
    \path (2, 0) node[below] {Source};
    \draw[line width=.5] (3.5, .9) -- (2.2, .9);
    \draw[line width=.5] (2.2, 1.1) -- (3.5, 1.1);
    \draw[line width=1] (3.5, 0) -- (3.5, 2);
    \draw[line width=1] (2.2, 0.8) -- (2.2, 1.2) -- (1.8, 1.2) -- (1.8, 0.8) -- cycle;
    \draw[<->, dashed, black, line width=1] (.6, 2.2) -- (3.4, 2.2);
    \uncover<4-> {
      \draw[line width=.5] (3.5, .9) -- (4.2, .9);
      \draw[line width=.5] (4.2, 1.1) -- (3.5, 1.1);

      \draw[line width=1] (4.4, 1.5) -- (4.4, 0.5);
      \draw[line width=.2] (4.4, 1.5) -- ++(-.2, -.2);
      \draw[line width=.2] (4.4, 1.3) -- ++(-.2, -.2);
      \draw[line width=.2] (4.4, 1.1) -- ++(-.2, -.2);
      \draw[line width=.2] (4.4, 0.9) -- ++(-.2, -.2);
      \draw[line width=.2] (4.4, 0.7) -- ++(-.2, -.2);

      \draw[line width=.5] (5.5, 0.5) -- (6.5, 1.5);

      \draw[line width=1] (5.5, -.3) -- (6.5, -.3);
      \draw[line width=.2] (5.5, -.3) -- ++(.2, -.2);
      \draw[line width=.2] (5.7, -.3) -- ++(.2, -.2);
      \draw[line width=.2] (5.9, -.3) -- ++(.2, -.2);
      \draw[line width=.2] (6.1, -.3) -- ++(.2, -.2);
      \draw[line width=.2] (6.3, -.3) -- ++(.2, -.2);

      \draw[line width=1] (7.5, 1.2) -- (7.5, 0.8) -- (8.5, 0.8) -- (8.5, 1.2) -- cycle;
      \path (8, 0.8) node[below] {Laser};

      \draw[line width=1] (5.8, 2.3) -- (6.2, 2.3) arc (0:180:.2);
      \path (6, 2.5) node[above] {Photo Diode};

      \draw[line width=1, red] (4.4, 1) -- (7.5, 1);
      \draw[line width=1, red] (6, 2.3) -- (6, -.3);
    }

    \uncover<2-> {
      \path (-2, 0) node[below] {Detector};
      \draw[line width=1] (-2.2, 0) -- (-2.2, 2) -- (-1.8, 2) -- (-1.8, 0) -- cycle;
    }

    \uncover<3-> {
      \path (0, 0) node[below] {Target};
      \draw[line width=1] (0, 0) -- (0, 2);
    }
  \end{tikzpicture}
\end{frame}

\begin{frame}{Effects and samples.}
  \begin{columns}
    \column{5.5cm}
    \begin{block}{Effects}
      \begin{itemize}[<+->]
      \item
        \alert<6, 7, 8>{Isomer Shift.}
      \item
        \alert<5, 8>{Zeeman effect.}
        \[E=-g_N\mu_NBm_I\]
      \item
        \alert<6, 8>{Quadrapole.}
      \item
        \alert<9>{Temperature Shift.}
        \[\frac{\delta}{E}=\frac{v^2}{2c^2}=\frac{E_k}{mc^2}\]
      \end{itemize}
    \end{block}
    \column{5.5cm}
    \only<1> {
      \includegraphics[width=6cm]{../share/isomer.png}
    }
    \only<2> {
      \includegraphics[width=6cm]{../share/zeeman.png}
    }
    \only<3> {
      \includegraphics[width=6cm]{../share/quad.png}
    }
    \only<4> {
      \includegraphics[width=6cm]{../share/temp.png}
    }
    \only<5-> {
      \begin{block}{Samples}
        \begin{itemize}[<+->]
        \item
          ${}^{57}Fe$
        \item
          $FeSO_4$
        \item
          $Fe_2(SO_4)_3$
        \item
          $Fe_2O_3$
        \item
          Stainless steel (Varying temperature).
        \item
          $Na_4Fe(CN)_6$ For line width.
        \end{itemize}
      \end{block}
    }
  \end{columns}
\end{frame}

\def\timeleft{1:00}
\section{Result of Rotation Curve.}
\begin{frame}{Finding out the Maximum Doppler Shift.}
  \begin{columns}
    \column{6cm}
    \visible<+->{
      \only<-1>{
        \begin{center}
          Velocity distribution\\
          at Galactic Longitude $\gamma=50^\circ$\\
          \includegraphics[width=6.5cm]{vt-find.png}
        \end{center}
      }\only<+->{
        \begin{center}
          (Maximum relative velocities)\\
          Contour plot of velocity distribution
          \includegraphics[width=6.5cm]{../milkyway/data/gal_1_contour.png}
        \end{center}
      }
    }
    \column{6cm}
    \visible<+->{
      \begin{center}
        (Transform into Absolute velocity)\\
        Rotation curve of the Milky Way\\
        \includegraphics[width=6.5cm]{../milkyway/data/gal_1_rot-curve.png}
      \end{center}
    }
  \end{columns}
\end{frame}


\def\timeleft{0:00}
\section{Conclusion.}
\begin{frame}{Conclusion.}
  \begin{block}{}
    \begin{itemize}[<+->]
    \item
      Measured the $21$cm spectrum for different longitude in the galactic plane.
    \item
      Calculated the rotation curve of the Galaxy from $21$cm spectrum.
    \item
      Saw the signature of dark matter.
    \end{itemize}
  \end{block}
\end{frame}

\end{document}
